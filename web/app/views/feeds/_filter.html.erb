<%

	raise ArgumentError unless data

	data = {
			type:    nil,
			filters: []
	}.deep_merge!(data)

%>

<% if data[:filters].present? %>
	<div class="me-chip-set__wrapper">
		<div data-controller="filter"
				 data-target="filter.chipset"
				 data-filter-type="<%= data[:type] %>"
				 class="me-chip-set mdc-chip-set mdc-chip-set--choice">
			<% if data[:type] == 'days' %>
				<% data[:filters].reject { |filter| filter['decorator'].blank? }.each do |filter| %>
					<div class="me-chip mdc-chip"
							 data-action="MDCChip:interaction->filter#select"
							 data-filter-value="<%= filter['string'] %>"
							 data-target="filter.chip"
							 data-turbolinks-scroll="false">
						<div class="mdc-chip__text">
							<%= filter['decorator'] %>
						</div>
					</div>
				<% end %>
			<% else %>
				<% data[:filters].reject(&:blank?).each do |filter| %>
					<div class="me-chip mdc-chip"
							 data-action="MDCChip:interaction->filter#select"
							 data-filter-value="<%= filter %>"
							 data-target="filter.chip"
							 data-turbolinks-scroll="false">
						<div class="mdc-chip__text">
							<%= filter %>
						</div>
					</div>
				<% end %>
			<% end %>
		</div>
	</div>
<% end %>
