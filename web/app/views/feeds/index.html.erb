<%# @events.inspect %>

<p id="notice">
  <%= notice %>
</p>

<div class="me-float-menu">
  <div class="me-float-menu__nav">
    <div class="me-float-menu__item">
      <div class="me-float-menu__icon">
        <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" class="style-scope iron-icon"></path></g></svg>
      </div>
      <div class="me-floa-menu__label">
        Home
      </div>
    </div>
    <div class="me-float-menu__item">
      <div class="me-float-menu__icon">
        <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" class="style-scope iron-icon"></path></g></svg>
      </div>
      <div class="me-floa-menu__label">
        Home
      </div>
    </div>
    <div class="me-float-menu__item">
      <div class="me-float-menu__icon">
        <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" class="style-scope iron-icon"></path></g></svg>
      </div>
      <div class="me-floa-menu__label">
        Home
      </div>
    </div>
  </div>
</div>

<% if current_user and !current_user.all_favorited(scope: ['favorite']).empty? %>
<div class="me-favorite" data-controller="favorite">
  <h2 data-target="favorite.header" class="mdc-typography--headline2">
    Eventos salvos
  </h2>
  <div class="me-icon__group">
    <div data-target="favorite.scrollLeft" data-action="click->favorite#scrollLeft" class="me-icon me-icon--scroll-left">
      <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" class="style-scope iron-icon"></path></g></svg>
    </div>
    <div data-target="favorite.scrollRight" data-action="click->favorite#scrollRight" class="me-icon me-icon--scroll-right">
      <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z" class="style-scope iron-icon"></path></g></svg>
    </div>
  </div>
  <div class="saved-list">
    <div class="mdc-layout-grid">
      <div data-target="favorite.list" class="mdc-layout-grid__inner">
        <% @favorited_events.each do |event| %>
          <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-2">
            <div class="me-card mdc-card event-<%= event.id %>" data-target="favorite.event" data-action="mouseover->favorite#showEventName">
              <a href="<%= event.url %>">
                <div class="mdc-card__media mdc-card__media--16-9" style="background-image: url('<%= event.cover_url %>')">
                </div>
                <div class="me-card__date" data-target="favorite.date">
                  <%= event.day_of_week %>
                </div>
                <div class="me-card__title mdc-card__title" data-target="favorite.title" style="display: none">
                  <%= event.name %>
                </div>
              </a>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
<% end %>



<div class="me-feed">
  <h2 class="mdc-typography--headline1">Eventos indicados para vocÃª</h2>
  <div class="me-feed__divider"></div>

  <div class="mdc-layout-grid">
    <div class="mdc-layout-grid__inner">
      <% @events[0...10].each do |event| %>
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3">
        <div class="me-card mdc-card mdc-card--outlined event-<%= event.id %>" data-controller="event" data-target="event.event" data-action="mouseover->event#showEventDetails" data-event-favorited="<%= current_user.favorited?(event, scope: ['favorite']) if current_user %>" data-event-identifier="<%= event.id %>">
          <a href="<%= event.url %>">
            <div class="mdc-card__media mdc-card__media--16-9" style="background-image: url('<%= event.cover_url %>')">
              <div class="me-card__overlay"></div>
            </div>

            <div class="mdc-card__title" data-target="event.name">
              <%= event.name[0..50] %>
            </div>

            <div class="me-card__place" data-target="event.place" style="display: none">
              <%= event.place.name[0..40] if event.place %>
            </div>

            <div class="me-card__date" data-target="event.date" style="display: none">
              <%= event.day_of_week %>
            </div>
          </a>

          <div class="me-card__like-button" data-action="click->event#like">
            <div data-target="event.like">
              <button data-target="event.likeButton" id="add-to-favorites" class="me-icon-button mdc-icon-button <%= 'mdc-icon-button--on' if favorited(event) %>" style="display: none" aria-label="Add to favorites" aria-hidden="true" aria-pressed="false">
                <i class="material-icons mdc-icon-button__icon mdc-icon-button__icon--on">star</i>
                <i class="material-icons mdc-icon-button__icon">star_border</i>
              </button>
            </div>
          </div>

        </div>
      </div>
      <% end %>
    </div>
  </div>
</div>
