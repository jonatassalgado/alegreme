<%= render partial: "feeds/float_menu" %>

<%= render partial: "saves",
           locals:  {
               identifier:   'salvos',
               saved_events: @favorited_events
           } %>



<div class="me-feed">
  <% if params[:q] %>
    <%= render partial: "components/collection/collection",
               locals:  {
                   items:      @items[:user],
                   title:     {
                       principal: "Eventos encontrados para \"#{params[:q]}\""
                   },
                   identifier: 'busca',
                   type:       :large,
                   filters:    false
               } %>

  <% else %>
    <section>
      <%= render partial: "components/collection/collection",
                 locals:  {
                     items:      @items[:today],
                     title:     {
                         principal: "Eventos acontecendo hoje e amanhã"
                     },
                     identifier: 'today-and-tomorrow',
                     type:       :large,
                     filters:    {
                         categories: true,
                         kinds:      true
                     },
                     detail:     @items[:today][:detail]
                 } %>
    </section>
    <section>
      <%= render partial: "components/collection/collection",
                 locals:  {
                     items:      @items[:follow],
                     title:     {
                         principal: "Tópicos que você segue",
                         secondary: "Explore os eventos de organizadores, locais e tags que você segue."
                     },
                     identifier: 'follow',
                     type:       :large,
                     filters:    {
                         categories: true,
                         ocurrences: true,
                         kinds:      true
                     },
                     detail:     @items[:follow][:detail]
                 } %>
    </section>

    <section>
      <%= render partial: "components/collection/collection",
                 locals:  {
                     items:      @items[:user_suggestions],
                     title:     {
                         principal: "Indicados para você",
                         secondary: "Explore os eventos que indicamos com base no seu gosto pessoal"
                     },
                     identifier: 'user-suggestions',
                     type:       :large,
                     filters:    {
                         categories: true,
                         ocurrences: true,
                         kinds:      false
                     },
                     detail:     @items[:user_suggestions][:detail]
                 } %>

    </section>

    <section>
      <%= render partial: "components/collection/collection",
                 locals:  {
                     items:      @items[:user_personas],
                     title:     {
                         principal: "Gostos parecidos",
                         secondary: "Explore os eventos que pessoas com gostos parecidos estão salvando"
                     },
                     identifier: 'user-personas',
                     type:       :large,
                     filters:    {
                         categories: true,
                         ocurrences: true,
                         kinds:      true
                     },
                     detail:     @items[:user_personas][:detail]
                 } %>

    </section>

    <%# render partial: "section", locals: { events: @events[:user], titles: {categories: "Eventos nas categorias", occurences: "acontecendo"}, identifier: 'recomendados', type: :large, filters: { categories: true, occurences: true } } %>
  <% end %>
</div>