<%

	return unless local_assigns.fetch(:user, false)
	return unless local_assigns.fetch(:followable, false)

%>

<div class="<%= class_string('bg-chateau-green-100 border-chateau-green-300 text-chateau-green-500':                                                                                                                                           user.is_following?(followable),
														 'text-gray-700':                                                                                                                                                                                                  !user.is_following?(followable),
														 'antialiased bg-white border cursor-pointer tap-highlight-none select-none transform transition-transform hover:scale-110 duration-100 font-semibold h-content inline-flex items-center px-5 py-3 rounded-full space-x-1': true) %>"
		 data-action="click->follow-button#follow"
		 data-controller="follow-button"
		 data-follow-button-followable="<%= followable.id %>"
		 data-follow-button-followed="<%= user.is_following? followable %>"
		 data-follow-button-identifier="<%= followable.slug || followable.id %>"
		 data-follow-button-type="<%= followable.class.name.parameterize.pluralize %>"
		 data-target="follow-button.button"
		 id="add-to-favorites">
	<svg class="<%= class_string('text-chateau-green-500': user.is_following?(followable),
															 'text-gray-300':          !user.is_following?(followable),
															 'fill-current h-6 w-6':   true) %>"
			 xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
		<g>
			<path d="M0,0h24v24H0V0z" fill="none"/>
			<path d="M0,0h24v24H0V0z" fill="none"/>
		</g>
		<g>
			<path d="M12,17.27l4.15,2.51c0.76,0.46,1.69-0.22,1.49-1.08l-1.1-4.72l3.67-3.18c0.67-0.58,0.31-1.68-0.57-1.75l-4.83-0.41 l-1.89-4.46c-0.34-0.81-1.5-0.81-1.84,0L9.19,8.63L4.36,9.04c-0.88,0.07-1.24,1.17-0.57,1.75l3.67,3.18l-1.1,4.72 c-0.2,0.86,0.73,1.54,1.49,1.08L12,17.27z"/>
		</g>
	</svg>
	<span data-target="follow-button.text">
		<%= user.try { |user| user.public_send("following_#{followable.class.name.parameterize}?", followable) } ? 'Seguindo' : 'Seguir' %>
	</span>
</div>
