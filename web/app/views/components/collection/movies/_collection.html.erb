<%
	raise ArgumentError unless [collection].all?(&:present?)
%>

<div data-controller="movie-collection slider" data-model="movie">
	<h2 class="font-medium mb-1 md:px-0 mt-3 px-5 text-gray-600 text-lg">
		<%= collection[:title] %>
	</h2>
	<div class="relative">
		<div class="hidden md:flex select-none items-center absolute left-0 top-0 bg-x-white-to-transparent h-full w-10 z-20">
			<div data-action="click->slider#left" class="bg-white rounded-full border shadow-md transition-colors duration-200 text-gray-600 hover:text-green-500 cursor-pointer my-auto -ml-5">
				<svg class="fill-current h-10 p-2 w-10" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black">
					<path d="M0 0h24v24H0V0z" fill="none"/>
					<path d="M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42-.39-.39-1.02-.39-1.41 0l-6.59 6.59c-.39.39-.39 1.02 0 1.41l6.59 6.59c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z"/>
				</svg>
			</div>
		</div>
		<div class="hidden md:flex select-none items-center absolute right-0 top-0 bg-x-transparent-to-white h-full w-10 z-20">
			<div data-action="click->slider#right" class="bg-white rounded-full border shadow-md transition-colors duration-200 text-gray-600 hover:text-green-500 cursor-pointer my-auto ml-5">
				<svg class="fill-current h-10 p-2 w-10" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black">
					<path d="M0 0h24v24H0V0z" fill="none"/>
					<path d="M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42.39.39 1.02.39 1.41 0l6.59-6.59c.39-.39.39-1.02 0-1.41l-6.58-6.6c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1z"/>
				</svg>
			</div>
		</div>
		<div data-slider-target="scroller"
				 class="scrollx">
			<div class="gap-5 grid grid-flow-col w-content pl-5 md:pl-0 grid-after-margin pt-3"
					 data-movie-collection-turbolinks-persist-scroll="0"
					 data-movie-collection-target="scrollContainer">
				<%= render(partial:    'components/collection/movie',
									 collection: collection[:items],
									 as:         :movie,
									 locals:     {
											 user:               user,
											 section_identifier: collection[:identifier]
									 },
									 cached:     false) %>
			</div>
		</div>
	</div>
</div>
