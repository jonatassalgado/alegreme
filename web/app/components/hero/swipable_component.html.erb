<%= component_controller do %>
  <div class="h-content md:mx-auto md:w-128"
       data-controller="swipable"
       data-reflex-permanent
       data-swipable-events-to-train="<%= @events.size %>"
       data-swipable-events-liked="<%= @user&.liked_events&.size %>"
       data-swipable-user-name="<%= @user.try(:first_name) %>"
       data-swipable-user-signin-count="<%= @user&.sign_in_count %>"
       id="swipable"
       style="min-height: 300px">
    <div class="hidden duration-500 is-bot overflow-x-hidden pl-6 pr-5 py-12 transition-all"
         data-swipable-module="onboarding"
         data-target="swipable.onboarding"></div>
    <div class="hidden transition-all duration-500 opacity-0"
         data-swipable-module="swipable-items"
         data-target="swipable.items">
      <div class="px-5 mt-5 mb-1">
        <div class="font-semibold leading-6 text-gray-800 group-hover:text-green-500 md:leading-normal text-md">
          Que tipos de evento você curte?
        </div>
        <div class="mt-1 text-sm  leading-tight text-gray-600">Para receber sugestões personalizadas, indique
          os
          eventos que você curte ou não.
        </div>
      </div>
      <div id="train-events" class="relative grid w-full grid-flow-col gap-5 px-5 pt-3 pb-8 grid-after-margin scrollx">
        <%= render Hero::TrainEventComponent.with_collection(@events, user: @user) %>
      </div>
    </div>
    <div data-target="swipable.endMessage" class="flex flex-col items-center justify-center hidden p-5 mx-5 my-5 my-auto space-y-5 text-center text-gray-800 transition-all duration-500 bg-white border rounded-lg shadow-md opacity-0 h-content">
      <div id="end-message-title" class=" text-gray-700"></div>
      <div data-action="click->swipable#loadSuggestions click->cable-ready#perform"
           data-controller="cable-ready"
           data-cable-ready-perform="hero"
           data-target="swipable.loadingOff"
           class="px-4 py-2 font-semibold text-white bg-green-500 rounded-full">Ver recomendações
      </div>
      <div data-target="swipable.loadingOn" class="flex hidden px-4 py-2 font-semibold text-gray-800 rounded-full bg-gray-50">Carregando
        <svg data-target="swipable.loadingIcon" class="w-5 h-5 my-auto ml-2 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path fill="none" d="M0 0h24v24H0V0z"/>
          <path d="M17.65 6.35c-1.63-1.63-3.94-2.57-6.48-2.31-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20c3.19 0 5.93-1.87 7.21-4.56.32-.67-.16-1.44-.9-1.44-.37 0-.72.2-.88.53-1.13 2.43-3.84 3.97-6.8 3.31-2.22-.49-4.01-2.3-4.48-4.52C5.31 9.44 8.26 6 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71l-.64.65z"/>
        </svg>
      </div>
    </div>
  </div>
<% end %>