<%= component_controller do %>
	<div class="flex items-center rounded">
		<% begin %>
			<%= image_tag(@friend.picture, {class: "bg-cover bg-gray-100 h-8 rounded-full w-8", alt: @friend.name, onerror: "this.style.opacity='0'"}) %>
		<% rescue %>
			<div class="bg-cover bg-gray-100 h-8 rounded-full w-8"></div>
		<% end %>
		<div class="flex-1 font-medium px-2 text-brand-500 text-sm">
			<%= link_to @friend.first_name, profile_path(@friend) %>
		</div>
		<div class="flex space-x-1">
			<% if @user.friendship_request_received? @friend %>
				<%= reflex_tag :reply,
											 :div,
											 class: 'p-1 rounded text-gray-400 text-sm',
											 data:  {
													 'friendship-action': 'refuse'
											 } do %>
					Recusar
				<% end %>
				<%= reflex_tag :reply,
											 :div,
											 class: 'bg-brand-50 text-brand-600 text-sm p-1 font-medium rounded',
											 data:  {
													 'friendship-action': 'accept'
											 } do %>
					Aceitar
				<% end %>
			<% elsif @user.friendship_accepted? @friend %>
				<div class="p-1 rounded text-brand-500 text-sm">
					Aceito
				</div>
			<% else %>
				<div class="p-1 text-red-500 text-sm">
					Recusado
				</div>
			<% end %>
		</div>
	</div>
<% end %>

