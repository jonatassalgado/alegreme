<%= content_tag :div, id: dom_id(@event), data: { controller: 'calendar--horizontal-event', 'calendar--horizontal-event-open-in-sidebar': @open_in_sidebar }, class: 'relative last:z-10' do %>
	<div class="select-none tap-highlight-none bg-white border-gray-100 flex justify-between md:border mt-2 mx-2 md:mx-0 px-3 md:px-5 py-3 rounded-lg">
		<div class="pr-6">
			<%= content_tag :a,
											href:  event_path(@event),
											data:  {
												'turbo-preserve-scroll': true,
												action:                  'click->calendar--horizontal-event#openEvent',
												'event-id':              @event.id
											},
											class: 'c-h3' do %>
				<%= @event.name %>
			<% end %>
			<div class="text-sm md:text-xs md:mt-2 text-gray-500">
				<%= helpers.day_of_week(@event.start_time).titlecase %> às <%= helpers.format_hour @event.start_time %>h ·
				<%= link_to helpers.limit_place_name_size(@event.place_details_name, 24), place_path(@event.place), data: { 'turbo-preserve-scroll': true }, class: 'md:hover:underline' %>
			</div>
			<div class="flex mt-2">
				<% unless @user&.dislike?(@event) %>
					<%= content_tag :div,
													id:    dom_id(@event, :like),
													data:  {
														action:     'click->calendar--horizontal-event#like',
														'event-id': @event.id,
														component:  'horizontal-event'
													},
													class: helpers.class_names('mr-2 cursor-pointer duration-100 ease-linear flex font-medium group hover:px-3 hover:text-gray-600 items-center justify-center rounded-full select-none tap-highlight-none text-sm transform transition-transform',
																										 { 'bg-brand-100 px-2 py-1 -mt-1': @user&.like?(@event) }) do %>
						<svg class="<%= helpers.class_names 'group h-5 w-5 stroke-current',
																								{ 'text-gray-500':               !@user&.like?(@event),
																									'text-brand-600 fill-current': @user&.like?(@event) } %>" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"/>
						</svg>
						<span class="<%= helpers.class_names('ml-1', { 'text-gray-500':  !@user&.like?(@event),
																													 'text-brand-600': @user&.like?(@event) }) %>">
							<%= @user&.like?(@event) ? 'Salvo' : 'Salvar' %>
						</span>
					<% end %>
				<% end %>
			</div>
		</div>
		<div>
			<div data-controller="ripple" class="h-20 md:h-24 md:w-40 mt-3 overflow-hidden relative ripple ripple-white rounded-lg shadow w-32">
				<%= link_to event_path(@event),
										data: {
											'turbo-preserve-scroll': true,
											action:                  'click->calendar--horizontal-event#openEvent',
											'event-id':              @event.id
										} do %>
					<%= image_tag helpers.shrine_image_url(@event, :feed), {
						loading: :lazy,
						alt:     "Cartaz do evento #{@event.name}",
						data:    {
							'event-id': @event.id
						},
						class:   'cursor-pointer object-center object-cover h-full w-full',
						onerror: "this.style.opacity='0'"
					} rescue nil %>
				<% end %>
			</div>
		</div>
	</div>
<% end %>