<%= content_tag :div, id: dom_id(@event), data: { controller: 'large-event' } do %>
	<div class="bg-white md:rounded-xl md:shadow-2xl md:border md:border-gray-100 overflow-hidden md:rounded-lg"
			 data-event-favorited="<%= @user and @user.like?(@event) if @user and @user %>"
			 data-event-identifier="<%= @event.id %>"
			 data-event-description-open="false"
			 data-event-modifier="single">

		<div class="relative">
			<div class="aspect-ratio-16/9"></div>
			<img src="<%= @event.image[:original].try { |image| image.url(public: true) } %>" alt="<%= @event.details_name %>" class="absolute top-0 left-0 object-cover object-center w-full h-full min-w-full bg-gray-50">
			<div class="absolute top-0 right-0 hidden mt-2 mr-2 transition-all duration-150 opacity-0 w-content"
					 data-controller="share-button"
					 data-share-button-text="<%= helpers.strip_tags(helpers.limit_description_size(@event.details_description, 160)) %>"
					 data-share-button-title="<%= @event.details_name %>"
					 data-share-button-url="<%= event_url(@event, format: :html) %>">
				<div class="relative flex px-3 py-2 mx-auto overflow-hidden text-sm bg-gray-50 rounded-full shadow cursor-pointer ripple ripple-black hover:bg-white hover:text-green-500 w-content"
						 data-action="click->share-button#share"
						 data-controller="ripple">
					<span>Compartilhar</span>
					<svg class="w-4 h-4 ml-1 fill-current" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
						<path d="M0 0h24v24H0z" fill="none"/>
						<path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
					</svg>
				</div>
			</div>
		</div>
		<div class="p-5">
			<h1 class="font-extrabold mb-2 text-2xl font-medium leading-tight md:px-0 md:text-4xl">
				<%= @event.details_name %>
			</h1>
			<div class="flex items-center -ml-1">
				<%= content_tag :div,
												data:  {
													reflex:     'click->Event#like',
													'event-id': @event.id,
													component:  'large-event'
												},
												class: 'p-2 cursor-pointer duration-100 ease-linear flex font-medium group hover:px-3 hover:scale-105 hover items-center justify-center mdc-ripple-upgraded--unbounded rounded-full select-none tap-highlight-none text-gray-500 text-sm transform transition-transform' do %>
					<svg class="<%= helpers.class_names 'fill-current h-6 hover:scale-150 w-6',
																							{ 'text-gray-500':  !@user&.like?(@event),
																								'text-green-500': @user&.like?(@event) } %>" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M0 0h24v24H0V0z" fill="none" opacity=".87"/>
						<path d="M13.12 2.06L7.58 7.6c-.37.37-.58.88-.58 1.41V19c0 1.1.9 2 2 2h9c.8 0 1.52-.48 1.84-1.21l3.26-7.61C23.94 10.2 22.49 8 20.34 8h-5.65l.95-4.58c.1-.5-.05-1.01-.41-1.37-.59-.58-1.53-.58-2.11.01zM3 21c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2s-2 .9-2 2v8c0 1.1.9 2 2 2z"/>
					</svg>
				<% end %>
				<%= content_tag :div,
												data:  {
													reflex:     'click->Event#dislike',
													'event-id': @event.id,
													component:  'large-event'
												},
												class: 'p-2 cursor-pointer duration-100 ease-linear flex font-medium group hover:px-3 hover:scale-105 hover items-center justify-center mdc-ripple-upgraded--unbounded rounded-full select-none tap-highlight-none text-gray-500 text-sm transform transition-transform' do %>
					<svg class="<%= helpers.class_names 'fill-current h-6 hover:scale-150 w-6',
																							{ 'text-gray-500': !@user&.dislike?(@event),
																								'text-red-500':  @user&.dislike?(@event) } %>" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M0 0h24v24H0V0z" fill="none" opacity=".87"/>
						<path d="M10.88 21.94l5.53-5.54c.37-.37.58-.88.58-1.41V5c0-1.1-.9-2-2-2H6c-.8 0-1.52.48-1.83 1.21L.91 11.82C.06 13.8 1.51 16 3.66 16h5.65l-.95 4.58c-.1.5.05 1.01.41 1.37.59.58 1.53.58 2.11-.01zM21 3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2s2-.9 2-2V5c0-1.1-.9-2-2-2z"/>
					</svg>
				<% end %>
			</div>
		</div>
		<div class="flex p-5 border-t border-b border-gray-100">
			<div class="flex flex-col justify-center px-3 py-2 my-auto mr-3 text-center text-green-600 bg-green-100 h-content rounded-xl w-content">
				<div class="font-bold leading-tight text-sm uppercase">
					<% if @event.day_of_week['date'] < Date.today + 7 %>
						<%= I18n.l(@event.day_of_week['date'], format: :week) %>
					<% else %>
						<%= I18n.l(@event.day_of_week['date'], format: :long) %>
					<% end %>
				</div>
				<div class="text-sm"><%= helpers.format_hour @event.first_day_time %></div>
			</div>
			<div class="my-auto text-sm leading-snug text-gray-600">
				O evento acontecer√°
				<span class="font-semibold">daqui <%= helpers.distance_of_time_in_words @event.day_of_week['date'], DateTime.now %></span>
				em uma
				<span class="font-semibold"><%= I18n.l(@event.day_of_week['date'], format: :week) %></span>. <%= link_to('Ver minha agenda neste dia', my_agenda_path(start_date: @event.day_of_week['date']), class: 'text-green-500 font-semibold') %>
			</div>
		</div>
		<div class="px-5 py-5 border-b border-gray-100">
			<h2 class="font-extrabold uppercase">
				<%= helpers.limit_place_name_size(@event.place_details_name, 40) %>
			</h2>
			<div class="mt-2 text-sm  leading-tight">
				<%= helpers.limit_address_name_size @event.geographic['address'] %>
			</div>
			<div>

				<div class="flex justify-center h-16 mt-3 align-middle bg-cover" style="background-image: url('<%= asset_pack_path('media/images/open-google-maps.png') %>')">
					<div class="flex px-2 py-2 my-auto rounded shadow h-content" style="background: rgba(255, 255, 255, 0.9);">
						<svg class="h-5 mr-1 text-gray-500 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
							<path d="M0 0h24v24H0z" fill="none"/>
							<path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
						</svg>
						<%= link_to 'Abrir no Google Maps', helpers.google_maps_url(@event.geographic['address']), class: 'text-gray-600 text-sm' %>
					</div>
				</div>

			</div>
		</div>
		<div class="px-5 py-5">
			<h2 class="font-extrabold uppercase">Sobre o evento</h2>
			<div class="mt-2 text-sm  leading-relaxed break-words text-with-html">
				<%= @event.details_description.html_safe %>
			</div>
		</div>
	</div>
<% end %>